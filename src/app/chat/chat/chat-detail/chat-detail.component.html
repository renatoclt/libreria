<div class="container-fluid">
  <div class="row">
    <div class="col-2 img-fluid">
      <img class="img-fluid rounded-circle img-height-3-7" alt="chatDetail.name" src="{{imageValidate(chatDetail.img)}}" />
    </div>
    <div class="col-9">
      <div class="row">
        <div class="col-12">
          {{chatDetail.name}}
        </div>
      </div>
      <div class="row">
        <div class="col-12">{{chatDetail.state}}</div>
      </div>
    </div>
    <div class="col-1 ngx-util-btns-acciones">
      <button id="btn_chatDelete" type="button" class="col-6 btn ngx-util-btn-icon ngx-util-btn-gray"
        (click)="chatDelete()">
        <i class="fa fa-trash-o" aria-hidden="true" alt="eliminar conversacion"></i>
      </button>
      <button id="btn_chatLock" *ngIf="lookStateValidate(chatDetail.lock, EChatLock.unlocked)" type="button"
        class="col-6 btn ngx-util-btn-icon ngx-util-btn-gray" (click)="lock()">
        <i class="fa fa-ban" aria-hidden="true" alt="Bloquear conversacion"></i>
      </button>
      <button id="btn_chatUnlock" *ngIf="lookStateValidate(chatDetail.lock, EChatLock.lock)" type="button"
        class="col-6 btn ngx-util-btn-icon ngx-util-btn-gray" (click)="lock()">
        <i class="fa fa-unlock" aria-hidden="true" alt="Desbloquear conversacion"></i>
      </button>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row ngx-utilitario-cuerpo-Chat">
      <div class="col-12" *ngFor="let item of chatDetail.mensajes; let i=index ">
        <div class="container">
          <div class="row" *ngIf="lineaDia(item.fecha,i)">
            <div class="w-100 ngx-utilitario-chat-linea">
              <span class="ngx-utilitario-chat-linea-span">
                {{diferenciaDias(item.fecha)}}
              </span>
            </div>
          </div>
        </div>
        <div class="container">
          <div [ngClass]="escogerEstilo(item.tipoMensaje)">
            <div>{{item.mensaje}}</div>
            <div>{{item.hora}}
              <span *ngIf="estadoMensaje(item.estadoMensaje, item.tipoMensaje, EMessageState.enviado )" class="ngx-utilitario-msj-enviado">
                <em class="fa fa-check"></em> 
              </span>
              <span *ngIf="estadoMensaje(item.estadoMensaje, item.tipoMensaje, EMessageState.recibido)"
                class="ngx-utilitario-msj-recibido">
                <em class="fa fa-check"></em> 
                <em class="fa fa-check"></em> 
              </span>
              <span *ngIf="estadoMensaje(item.estadoMensaje, item.tipoMensaje, EMessageState.leido )" class="ngx-utilitario-msj-leido">
                <em class="fa fa-check"></em> 
                <em class="fa fa-check"></em> 
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row">
      <!-- <ngx-utilitario-chat-detail-add class="col-12 ngx-utilitario-chat-agregar"
        (nuevoMensaje)="enviarMensaje($event)" [disabled]="chatDetail.bloqueo"></ngx-utilitario-chat-detail-add> -->
    </div>
  </div>
</div>
